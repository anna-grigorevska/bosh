"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(w){var t,e=navigator.userAgent,S=/iphone/i.test(e),o=/chrome/i.test(e),T=/android/i.test(e);w.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},w.fn.extend({caret:function(e,a){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(a="number"==typeof a?a:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,a):this.createTextRange&&((n=this.createTextRange()).collapse(!0),n.moveEnd("character",a),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,a=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),a=e+n.text.length),{begin:e,end:a})},unmask:function(){return this.trigger("unmask")},mask:function(a,$){var n,k,g,b,y,C,x;if(!a&&0<this.length){var e=w(this[0]).data(w.mask.dataName);return e?e():void 0}return $=w.extend({autoclear:w.mask.autoclear,placeholder:w.mask.placeholder,completed:null},$),n=w.mask.definitions,k=[],g=C=a.length,b=null,w.each(a.split(""),function(e,a){"?"==a?(C--,g=e):n[a]?(k.push(new RegExp(n[a])),null===b&&(b=k.length-1),e<g&&(y=k.length-1)):k.push(null)}),this.trigger("unmask").each(function(){function r(){if($.completed){for(var e=b;e<=y;e++)if(k[e]&&f[e]===l(e))return;$.completed.call(p)}}function l(e){return $.placeholder.charAt(e<$.placeholder.length?e:0)}function s(e){for(;++e<C&&!k[e];);return e}function c(e,a){var n,t;if(!(e<0)){for(n=e,t=s(a);n<C;n++)if(k[n]){if(!(t<C&&k[n].test(f[t])))break;f[n]=f[t],f[t]=l(t),t=s(t)}m(),p.caret(Math.max(b,e))}}function i(){u(),p.val()!=v&&p.change()}function d(e,a){var n;for(n=e;n<a&&n<C;n++)k[n]&&(f[n]=l(n))}function m(){p.val(f.join(""))}function u(e){var a,n,t,o=p.val(),i=-1;for(t=a=0;a<C;a++)if(k[a]){for(f[a]=l(a);t++<o.length;)if(n=o.charAt(t-1),k[a].test(n)){f[a]=n,i=a;break}if(t>o.length){d(a+1,C);break}}else f[a]===o.charAt(t)&&t++,a<g&&(i=a);return e?m():i+1<g?$.autoclear||f.join("")===h?(p.val()&&p.val(""),d(0,C)):m():(m(),p.val(p.val().substring(0,i+1))),g?a:b}var p=w(this),f=w.map(a.split(""),function(e,a){return"?"!=e?n[e]?l(a):e:void 0}),h=f.join(""),v=p.val();p.data(w.mask.dataName,function(){return w.map(f,function(e,a){return k[a]&&e!=l(a)?e:null}).join("")}),p.one("unmask",function(){p.off(".mask").removeData(w.mask.dataName)}).on("focus.mask",function(){var e;p.prop("readonly")||(clearTimeout(t),v=p.val(),e=u(),t=setTimeout(function(){p.get(0)===document.activeElement&&(m(),e==a.replace("?","").length?p.caret(0,e):p.caret(e))},10))}).on("blur.mask",i).on("keydown.mask",function(e){if(!p.prop("readonly")){var a,n,t,o=e.which||e.keyCode;x=p.val(),8===o||46===o||S&&127===o?(n=(a=p.caret()).begin,(t=a.end)-n==0&&(n=46!==o?function(e){for(;0<=--e&&!k[e];);return e}(n):t=s(n-1),t=46===o?s(t):t),d(n,t),c(n,t-1),e.preventDefault()):13===o?i.call(this,e):27===o&&(p.val(v),p.caret(0,u()),e.preventDefault())}}).on("keypress.mask",function(e){if(!p.prop("readonly")){var a,n,t,o=e.which||e.keyCode,i=p.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||o<32)&&o&&13!==o){if(i.end-i.begin!=0&&(d(i.begin,i.end),c(i.begin,i.end-1)),(a=s(i.begin-1))<C&&(n=String.fromCharCode(o),k[a].test(n))){if(function(e){var a,n,t,o;for(n=l(a=e);a<C;a++)if(k[a]){if(t=s(a),o=f[a],f[a]=n,!(t<C&&k[t].test(o)))break;n=o}}(a),f[a]=n,m(),t=s(a),T){setTimeout(function(){w.proxy(w.fn.caret,p,t)()},0)}else p.caret(t);i.begin<=y&&r()}e.preventDefault()}}}).on("input.mask paste.mask",function(){p.prop("readonly")||setTimeout(function(){var e=u(!0);p.caret(e),r()},0)}),o&&T&&p.off("input.mask").on("input.mask",function(){var e=p.val(),a=p.caret();if(x&&x.length&&x.length>e.length){for(u(!0);0<a.begin&&!k[a.begin-1];)a.begin--;if(0===a.begin)for(;a.begin<b&&!k[a.begin];)a.begin++;p.caret(a.begin,a.begin)}else{for(u(!0);a.begin<C&&!k[a.begin];)a.begin++;p.caret(a.begin,a.begin)}r()}),u()})}})});var apiUrl="http://msk2-api.edinie.ru",types=["hol","sma","pmm","sush","varo","duh","mcv","kof"];$(document).ready(function(){var r="";function i(e,a,n,t){var o={phone:e,description:"Test"},i=$('[name="type"]:checked').data();a&&(o.name=a),n&&(o.description="Test"+n),t&&(o.district=t),i&&(o.type_id=i.type),axios.post(apiUrl+"/site-form-api/order/create",o).then(function(e){r=e.data.code})}types.map(function(e){$('[data-type="'+e+'"]').parents(".technics").removeClass("d-none")}),$('[type="tel"]').mask("+9999 999 9999",{placeholder:" "}),$(".technics input").on("change",function(e){$(".technics input").prop("disabled",!0),$(".section-toggle.open").removeClass("open"),setTimeout(function(){$("."+e.target.id).addClass("open"),$(".technics input").prop("disabled",!1)},900)}),$(".owl-carousel").owlCarousel({items:1}),$("#top-form").click(function(){$("#phone-top").removeClass("error");var e=$("#phone-top").val()||!1;if(!e)return $("#phone-top").addClass("error"),!1;i(e),$("#thank-callback-modal").addClass("open"),$(".modals-wrap").addClass("open")}),$("#bottom-form").click(function(){$("#phone-bottom").removeClass("error");var e=$("#phone-bottom").val()||!1;if(!e)return $("#phone-bottom").addClass("error"),!1;i(e),$("#thank-callback-modal").addClass("open"),$(".modals-wrap").addClass("open")}),$(".overlay, #close").click(function(){$(".modals-wrap, .modal-inner").removeClass("open")}),$("#thank-callback-modal button").click(function(){var e=!0;$("#thank-callback-modal input").removeClass("error");var a=$('#thank-callback-modal input[name="location"]').val()||!1;a||(e=!1,$('#thank-callback-modal input[name="location"]').addClass("error"));var n=$('#thank-callback-modal input[name="options"]').val()||!1;n||(e=!1,$('#thank-callback-modal input[name="options"]').addClass("error"));var t=$('#thank-callback-modal input[name="user"]').val()||!1;if(t||(e=!1,$('#thank-callback-modal input[name="user"]').addClass("error")),!e)return!1;!function(e,a,n){var t=$('[name="type"]:checked').data().type;axios.post(apiUrl+"/site-form-api/order/update?code="+r,{description:"Test"+a,name:e,district:n,type_id:t})}(t,n,a),$("#thank-callback-modal").removeClass("open"),$("#thank").addClass("open")}),$("#fix-modal button").click(function(){var e=!0;$("#fix-modal input").removeClass("error");var a=$('#fix-modal input[name="phone"]').val()||!1;a||(e=!1,$('#fix-modal input[name="phone"]').addClass("error"));var n=$('#fix-modal input[name="location"]').val()||!1;n||(e=!1,$('#fix-modal input[name="location"]').addClass("error"));var t=$('#fix-modal input[name="option"]').val()||!1;t||(e=!1,$('#fix-modal input[name="option"]').addClass("error"));var o=$('#fix-modal input[name="user"]').val()||!1;if(o||(e=!1,$('#fix-modal input[name="user"]').addClass("error")),!e)return!1;i(a,o,t,n),$("#fix-modal").removeClass("open"),$("#thank").addClass("open")}),$(".main-form").on("submit",function(e){e.preventDefault();var a=!0;$(this).find("input").removeClass("error");var n=$(this).find('[name="tel"]').val();n||(a=!1,$(this).find('[name="tel"]').addClass("error"));var t=$(this).find('[name="geo"]').val();t||(a=!1,$(this).find('[name="geo"]').addClass("error"));var o=$(this).find('[name="problem"]').val();if(o||(a=!1,$(this).find('[name="problem"]').addClass("error")),!a)return!1;i(n,"",o,t),$(".modals-wrap").addClass("open"),$("#thank").addClass("open")}),$("button.order").click(function(e){var a=$(this).parents(".breakdown-wrap").find("h5").text();$(".modals-wrap").addClass("open"),$("#fix-modal").addClass("open"),$('#fix-modal [name="option"]').val(a)}),$("#commercial-proposal").click(function(){$(".modals-wrap").addClass("open"),$("#fix-modal").addClass("open")}),$("#discount").click(function(){$(".modals-wrap").addClass("open"),$("#fix-modal").addClass("open")}),$(".scroll").on("click",function(e){var a=$($(this).attr("href"));a.length&&(e.preventDefault(),$("html, body").animate({scrollTop:a.offset().top},500))})}),console.log("menu"),$(document).ready(function(){$("#menu-toggle, #menu-toggle-bottom").click(function(){$("#mobile-navigation").addClass("open")}),$("#close-menu").click(function(){$("#mobile-navigation").removeClass("open")}),$("#mobile-navigation a").click(function(){$("#mobile-navigation").removeClass("open")})});
//# sourceMappingURL=scripts.min.js.map
