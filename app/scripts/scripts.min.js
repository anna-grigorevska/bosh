"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(w){var n,e=navigator.userAgent,S=/iphone/i.test(e),o=/chrome/i.test(e),T=/android/i.test(e);w.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},w.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((a=this.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,k){var a,b,g,$,y,C,x;if(!t&&0<this.length){var e=w(this[0]).data(w.mask.dataName);return e?e():void 0}return k=w.extend({autoclear:w.mask.autoclear,placeholder:w.mask.placeholder,completed:null},k),a=w.mask.definitions,b=[],g=C=t.length,$=null,w.each(t.split(""),function(e,t){"?"==t?(C--,g=e):a[t]?(b.push(new RegExp(a[t])),null===$&&($=b.length-1),e<g&&(y=b.length-1)):b.push(null)}),this.trigger("unmask").each(function(){function i(){if(k.completed){for(var e=$;e<=y;e++)if(b[e]&&m[e]===l(e))return;k.completed.call(p)}}function l(e){return k.placeholder.charAt(e<k.placeholder.length?e:0)}function s(e){for(;++e<C&&!b[e];);return e}function c(e,t){var a,n;if(!(e<0)){for(a=e,n=s(t);a<C;a++)if(b[a]){if(!(n<C&&b[a].test(m[n])))break;m[a]=m[n],m[n]=l(n),n=s(n)}u(),p.caret(Math.max($,e))}}function r(){f(),p.val()!=v&&p.change()}function d(e,t){var a;for(a=e;a<t&&a<C;a++)b[a]&&(m[a]=l(a))}function u(){p.val(m.join(""))}function f(e){var t,a,n,o=p.val(),r=-1;for(n=t=0;t<C;t++)if(b[t]){for(m[t]=l(t);n++<o.length;)if(a=o.charAt(n-1),b[t].test(a)){m[t]=a,r=t;break}if(n>o.length){d(t+1,C);break}}else m[t]===o.charAt(n)&&n++,t<g&&(r=t);return e?u():r+1<g?k.autoclear||m.join("")===h?(p.val()&&p.val(""),d(0,C)):u():(u(),p.val(p.val().substring(0,r+1))),g?t:$}var p=w(this),m=w.map(t.split(""),function(e,t){return"?"!=e?a[e]?l(t):e:void 0}),h=m.join(""),v=p.val();p.data(w.mask.dataName,function(){return w.map(m,function(e,t){return b[t]&&e!=l(t)?e:null}).join("")}),p.one("unmask",function(){p.off(".mask").removeData(w.mask.dataName)}).on("focus.mask",function(){var e;p.prop("readonly")||(clearTimeout(n),v=p.val(),e=f(),n=setTimeout(function(){p.get(0)===document.activeElement&&(u(),e==t.replace("?","").length?p.caret(0,e):p.caret(e))},10))}).on("blur.mask",r).on("keydown.mask",function(e){if(!p.prop("readonly")){var t,a,n,o=e.which||e.keyCode;x=p.val(),8===o||46===o||S&&127===o?(a=(t=p.caret()).begin,(n=t.end)-a==0&&(a=46!==o?function(e){for(;0<=--e&&!b[e];);return e}(a):n=s(a-1),n=46===o?s(n):n),d(a,n),c(a,n-1),e.preventDefault()):13===o?r.call(this,e):27===o&&(p.val(v),p.caret(0,f()),e.preventDefault())}}).on("keypress.mask",function(e){if(!p.prop("readonly")){var t,a,n,o=e.which||e.keyCode,r=p.caret();if(!(e.ctrlKey||e.altKey||e.metaKey||o<32)&&o&&13!==o){if(r.end-r.begin!=0&&(d(r.begin,r.end),c(r.begin,r.end-1)),(t=s(r.begin-1))<C&&(a=String.fromCharCode(o),b[t].test(a))){if(function(e){var t,a,n,o;for(a=l(t=e);t<C;t++)if(b[t]){if(n=s(t),o=m[t],m[t]=a,!(n<C&&b[n].test(o)))break;a=o}}(t),m[t]=a,u(),n=s(t),T){setTimeout(function(){w.proxy(w.fn.caret,p,n)()},0)}else p.caret(n);r.begin<=y&&i()}e.preventDefault()}}}).on("input.mask paste.mask",function(){p.prop("readonly")||setTimeout(function(){var e=f(!0);p.caret(e),i()},0)}),o&&T&&p.off("input.mask").on("input.mask",function(){var e=p.val(),t=p.caret();if(x&&x.length&&x.length>e.length){for(f(!0);0<t.begin&&!b[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<$&&!b[t.begin];)t.begin++;p.caret(t.begin,t.begin)}else{for(f(!0);t.begin<C&&!b[t.begin];)t.begin++;p.caret(t.begin,t.begin)}i()}),f()})}})}),$(document).ready(function(){var i="";function t(e,t,a,n){var o={phone:e,description:"Test"},r=$('[name="type"]:checked').data();t&&(o.name=t),a&&(o.description="Test"+a),n&&(o.district=n),r&&(o.type_id=r.type),axios.post("http://msk2-api.edinie.ru/site-form-api/order/create",o).then(function(e){i=e.data.code})}$('[type="tel"]').mask("+9999 999 9999",{placeholder:" "}),$(".technics input").on("change",function(e){$(".technics input").prop("disabled",!0),$(".section-toggle.open").removeClass("open"),setTimeout(function(){$("."+e.target.id).addClass("open"),$(".technics input").prop("disabled",!1)},900)}),$(".owl-carousel").owlCarousel({items:1}),$("#top-form").click(function(){$("#phone-top").removeClass("error");var e=$("#phone-top").val()||!1;if(!e)return $("#phone-top").addClass("error"),!1;t(e),$("#thank-callback-modal").addClass("open"),$(".modals-wrap").addClass("open")}),$("#bottom-form").click(function(){$("#phone-bottom").removeClass("error");var e=$("#phone-bottom").val()||!1;if(!e)return $("#phone-bottom").addClass("error"),!1;t(e),$("#thank-callback-modal").addClass("open"),$(".modals-wrap").addClass("open")}),$(".overlay, #close").click(function(){$(".modals-wrap, .modal-inner").removeClass("open")}),$("#thank-callback-modal button").click(function(){var e=!0;$("#thank-callback-modal input").removeClass("error");var t=$('#thank-callback-modal input[name="location"]').val()||!1;t||(e=!1,$('#thank-callback-modal input[name="location"]').addClass("error"));var a=$('#thank-callback-modal input[name="options"]').val()||!1;a||(e=!1,$('#thank-callback-modal input[name="options"]').addClass("error"));var n=$('#thank-callback-modal input[name="user"]').val()||!1;if(n||(e=!1,$('#thank-callback-modal input[name="user"]').addClass("error")),!e)return!1;!function(e,t,a){var n=$('[name="type"]:checked').data().type;axios.post("http://msk2-api.edinie.ru/site-form-api/order/update?code="+i,{description:"Test"+t,name:e,district:a,type_id:n})}(n,a,t),$("#thank-callback-modal").removeClass("open"),$("#thank").addClass("open")}),$(".main-form").on("submit",function(e){e.preventDefault();var t=!0;if($(this).find("input").removeClass("error"),$(this).find('[name="tel"]').val()||(t=!1,$(this).find('[name="tel"]').addClass("error")),$(this).find('[name="geo"]').val()||(t=!1,$(this).find('[name="geo"]').addClass("error")),$(this).find('[name="problem"]').val()||(t=!1,$(this).find('[name="problem"]').addClass("error")),!t)return!1;$(".modals-wrap").addClass("open"),$("#thank").addClass("open")}),$("button.order").click(function(e){var t=$(this).parents(".breakdown-wrap").find("h5").text();$(".modals-wrap").addClass("open"),$("#fix-modal").addClass("open"),$('#fix-modal [name="option"]').val(t)}),$("#commercial-proposal").click(function(){$(".modals-wrap").addClass("open"),$("#fix-modal").addClass("open")}),$("#discount").click(function(){$(".modals-wrap").addClass("open"),$("#fix-modal").addClass("open")}),$(".scroll").on("click",function(e){var t=$($(this).attr("href"));t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top},500))})});
//# sourceMappingURL=scripts.min.js.map
